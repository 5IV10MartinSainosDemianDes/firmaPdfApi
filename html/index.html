<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="./css">
        <title>Firma PDF</title>
    </head>
    <body>
        <div class="container">
            <h3>Formulario Para Firma Digital</h3>

            <hr>
            
            <form id="formulario">
                <label>Nombre:</label>
                <br>
                <input class="int" id="nombre">

                <br><br>

                <label>Mensage:</label>
                <br>
                <textarea id="mensaje">

                </textarea>

                <br><br>

                <label></label>
                <input type="submit" id="enviar" class="btn-fim">
                <hr>
            </form>
        </div>
        
        <script >
            const nombre = document.getElementById("nombre")
            const mensaje = document.getElementById("mensaje")
            const enviar = document.getElementById("enviar")
            
            enviar.addEventListener("click", function(){
                const nombreTxt = nombre.value
                const mensajeTxt = mensaje.value
            
                let url = "https://demma-firmar-pdfs.cyclic.app/pdf"
                url += "/?nombre=" + encodeURI(nombreTxt)
                url += "&?mensaje=" + encodeURI(mensajeTxt)
                const resp = fetch(url, {method : 'GET',})
                .then(function(response) {
                    return response.json(); })
                   .then(function(json) {return json})
                console.log("response")
                console.log(resp)
        })
        </script>  
    </body>
</html>